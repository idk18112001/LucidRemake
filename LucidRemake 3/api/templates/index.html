{% extends "base.html" %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
    <!-- Background overlay -->
    <div class="absolute inset-0 opacity-10 bg-gradient-to-br from-teal/20 to-transparent"></div>
    
    <div class="hero-content">
        <h1 class="hero-title animate-fade-in-up gradient-text">
            Crafted for the
        </h1>
        <h2 class="hero-subtitle animate-fade-in-delay">
            Unconventional
        </h2>
        <p class="hero-description animate-fade-in-delay-2">
            Discover investment signals that traditional platforms overlook. 
            Alternative indicators reveal market opportunities before they become mainstream knowledge.
        </p>
        <div class="animate-fade-in-delay-3">
            <a href="{{ url_for('explore') }}" class="btn-ghost pulse-glow">
                <span>Explore</span>
                <i class="fas fa-arrow-right arrow"></i>
            </a>
        </div>
    </div>

    <!-- Floating Elements -->
    <div class="floating-element floating-circle"></div>
    <div class="floating-element floating-square"></div>
</section>

<!-- Offerings Section - Layered Scroll -->
<div class="offerings-container" id="offerings-container">
    <!-- Spacer to trigger scroll -->
    <div style="height: 100vh;"></div>
    
    <!-- First Offering -->
    <section class="offering-section" data-offering="0">
        <div class="offering-content">
            <div class="animate-fade-in-up">
                <h2 class="offering-title">
                    Act before it's everywhere
                </h2>
                <p class="offering-description">
                    LucidQuant analyzes the data points everyone else overlooks. We find correlations in unexpected places and surface patterns before they become market consensus. Get early signals from sources others don't track.
                </p>
            </div>
        </div>
    </section>

    <!-- Second Offering -->
    <section class="offering-section" data-offering="1">
        <div class="offering-content">
            <div class="animate-fade-in-up">
                <h2 class="offering-title">
                    Go beyond the usual checks
                </h2>
                <p class="offering-description">
                    While others focus on earnings and price charts, we explore alternative indicators that might tell a different story. Discover unconventional metrics that could reveal new investment angles you hadn't considered.
                </p>
            </div>
        </div>
    </section>

    <!-- Third Offering -->
    <section class="offering-section" data-offering="2">
        <div class="offering-content">
            <div class="animate-fade-in-up">
                <h2 class="offering-title">
                    Take the boldest risk reason allows
                </h2>
                <p class="offering-description">
                    Smart risk isn't about gambling—it's about having better information. LucidQuant gives you the conviction to act on opportunities that appear risky to others. Make calculated moves with uncommon insight.
                </p>
            </div>
        </div>
    </section>
</div>

<!-- Sign Up Section -->
<section class="signup-section">
    <div class="signup-content">
        <h2 class="signup-title animate-fade-in-up">
            Start Today
        </h2>
        <div class="animate-fade-in-delay">
            <button onclick="openSignUpModal()" class="btn-ghost pulse-glow">
                <span>Sign Up</span>
                <i class="fas fa-arrow-right arrow"></i>
            </button>
        </div>
    </div>
</section>

<!-- Footer -->
<footer class="footer">
    <div class="footer-content">
        <div class="footer-title">LucidQuant</div>
        <div class="footer-links">
            <a href="#" class="footer-link">Privacy Policy</a>
            <a href="#" class="footer-link">Terms of Service</a>
            <a href="#" class="footer-link">Contact</a>
        </div>
        <p class="footer-copyright">© 2024 LucidQuant. All rights reserved.</p>
    </div>
</footer>

<!-- Sign Up Modal -->
<div id="signUpModal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Join LucidQuant</h3>
            <button onclick="closeSignUpModal()" class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
            <form method="POST" action="{{ url_for('signup') }}">
                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" name="email" required>
                </div>
                <button type="submit" class="btn-primary">Sign Up</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
// Sign Up Modal Functions
function openSignUpModal() {
    document.getElementById('signUpModal').style.display = 'flex';
    document.body.style.overflow = 'hidden';
}

function closeSignUpModal() {
    document.getElementById('signUpModal').style.display = 'none';
    document.body.style.overflow = 'auto';
}

// Close modal when clicking outside
document.getElementById('signUpModal').addEventListener('click', function(e) {
    if (e.target === this) {
        closeSignUpModal();
    }
});

// Scroll-based animations for offerings
document.addEventListener('DOMContentLoaded', function() {
    const offeringsContainer = document.getElementById('offerings-container');
    const offeringSections = document.querySelectorAll('.offering-section');
    
    if (offeringsContainer && offeringSections.length > 0) {
        window.addEventListener('scroll', function() {
            const containerRect = offeringsContainer.getBoundingClientRect();
            const containerHeight = offeringsContainer.offsetHeight;
            const viewportHeight = window.innerHeight;
            
            // Calculate scroll progress within the container (0 to 1)
            const scrollProgress = Math.max(0, Math.min(1, 
                (viewportHeight - containerRect.top) / (containerHeight - viewportHeight)
            ));
            
            // Update offering opacities based on scroll progress
            offeringSections.forEach((section, index) => {
                const sectionStart = index / offeringSections.length;
                const sectionEnd = (index + 1) / offeringSections.length;
                
                let opacity = 0;
                
                if (scrollProgress >= sectionStart && scrollProgress <= sectionEnd) {
                    // Current section is visible
                    const sectionProgress = (scrollProgress - sectionStart) / (sectionEnd - sectionStart);
                    opacity = 1;
                    
                    // Fade out as we approach the end of this section
                    if (sectionProgress > 0.8) {
                        opacity = 1 - ((sectionProgress - 0.8) / 0.2);
                    }
                } else if (scrollProgress > sectionEnd) {
                    // Section has passed
                    opacity = 0;
                } else {
                    // Section hasn't started yet
                    opacity = 0;
                }
                
                section.style.opacity = opacity;
            });
        });
        
        // Initialize first section as visible
        offeringSections[0].style.opacity = 1;
        offeringSections.forEach((section, index) => {
            if (index > 0) {
                section.style.opacity = 0;
            }
        });
    }
});
</script>
{% endblock %}